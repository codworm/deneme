!function(){"use strict";({_window:window,_document:document,isInitialized:!1,events:{manager:{onInitialized:"BX.SB.Util.Gdpr.Cookie.Manager:onInitialized",onUserSettingsUpdate:"BX.SB.Util.Gdpr.Cookie.Manager:onUserSettingsUpdate"}},path:"/",domain:"",cookieNameList:{},cookieTypeList:{},types:{gdpr:"gdpr",persistent:"persistent",analytical:"analytical"},_isString:function(t){return"string"==typeof t},_isObject:function(t){return!!t&&"object"==typeof t},_isEmptyString:function(t){return!(this._isString(t)&&""!==t)},_isEmptyObject:function(t){return!(this._isObject(t)&&Object.keys(t).length>0)},create:function(){let t="BX.SB.Util.Gdpr.Cookie".split("."),e=this._window;for(let i=0;i<t.length;i+=1)void 0===e[t[i]]&&(e[t[i]]={}),e=e[t[i]];e.Manager=this},_getCookie:function(t){let e=this._document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0},_getSettingsCookieObject:function(){let t={},e=this._getCookie(this.cookieNameList[this.types.gdpr]||"")||"";if(!this._isEmptyString(e))try{t=this._window.JSON.parse(e+"")||{}}catch(t){console.log(t)}return t},_getSettingType:function(t){return this.cookieTypeList.hasOwnProperty(this.types.gdpr)&&this.cookieTypeList[this.types.gdpr].hasOwnProperty(t)&&this.cookieTypeList[this.types.gdpr][t]||""},isPersistentCookiesAllowed:function(){let t=this._getSettingsCookieObject()||{};if(!this._isEmptyObject(t)){let e=this._getSettingType(this.types.persistent);if(t.hasOwnProperty(e))return"N"!==t[e].enabled}return!0},isAnalyticalCookiesAllowed:function(){let t=this._getSettingsCookieObject()||{};if(!this._isEmptyObject(t)){let e=this._getSettingType(this.types.analytical);if(t.hasOwnProperty(e))return"N"!==t[e].enabled}return!0},isExpiresAllowed:function(){return this.isPersistentCookiesAllowed()},init:function(t){if(this.isInitialized)return!1;if(this._isEmptyObject(t))return!1;t.hasOwnProperty("cookieTypeList")&&(this.cookieTypeList=t.cookieTypeList),t.hasOwnProperty("cookieNameList")&&(this.cookieNameList=t.cookieNameList),this.isInitialized=!0;let e=new Event("BX.SB.Util.Gdpr.Cookie.Manager:onInitialized",{bubbles:!0,cancelable:!0,composed:!0});document.dispatchEvent(e)}}).create()}();